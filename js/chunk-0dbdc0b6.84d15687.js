(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0dbdc0b6"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,a){var r=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var s=a.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},1799:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center my-4"},[a("ul",{staticClass:"page d-flex"},[a("li",{staticClass:"page_item p-2"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.previousPage,expression:"previousPage"}],staticClass:"page_item_link",attrs:{to:{name:t.name,query:{CityId:t.cityId,CategoryId:t.categoryId,page:t.previousPage}}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.totalPage,(function(e){return a("li",{key:e,staticClass:"page_item m-2",class:{active:t.currentPage===e}},[a("router-link",{staticClass:"page_item_link px-2",attrs:{to:{name:t.name,query:{CityId:t.cityId,CategoryId:t.categoryId,page:e}}}},[t._v(" "+t._s(e)+" ")])],1)})),a("li",{staticClass:"page_item p-2"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.nextPage,expression:"nextPage"}],staticClass:"page_item_link",attrs:{to:{name:t.name,query:{CityId:t.cityId,CategoryId:t.categoryId,page:t.nextPage}}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)])},n=[],s=(a("a9e3"),{props:{categoryId:[String,Number],cityId:[String,Number],currentPage:Number,totalPage:Array,name:String},computed:{previousPage:function(){return 1===this.currentPage?null:this.currentPage-1},nextPage:function(){return this.currentPage+1>this.totalPage.length?null:this.currentPage+1}}}),i=s,c=(a("5eaf"),a("2877")),o=Object(c["a"])(i,r,n,!1,null,null,null);e["a"]=o.exports},2277:function(t,e,a){},"2aa4":function(t,e,a){},"44cc":function(t,e,a){},"57cf":function(t,e,a){},"5eaf":function(t,e,a){"use strict";var r=a("2aa4"),n=a.n(r);n.a},"64eb":function(t,e,a){"use strict";var r=a("44cc"),n=a.n(r);n.a},"77c8":function(t,e,a){"use strict";a("99af"),a("d3b7"),a("ac1f"),a("25f0"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d");var r=a("2fa3");e["a"]={getHome:function(t){var e=t.page,a=t.CategoryId,n=t.CityId,s=t.search,i=new URLSearchParams({page:e,CategoryId:a,CityId:n,search:s});return r["c"].get("/home?".concat(i.toString()))},getRest:function(t){return r["c"].get("/restaurant/".concat(t))},getMenu:function(t){var e=t.restaurantId,a=t.MealCategoryId,n=t.page,s=new URLSearchParams({MealCategoryId:a,page:n});return r["c"].get("/restaurant/".concat(e,"/reservation?").concat(s.toString()))},postOrder:function(t,e){return r["c"].post("/order/".concat(t),e)}}},"7cbd":function(t,e,a){"use strict";var r=a("ef09"),n=a.n(r);n.a},"841c":function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),s=a("1d80"),i=a("129f"),c=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var s=n(t),o=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var u=c(s,o);return i(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},"84b4":function(t,e,a){"use strict";var r=a("9910"),n=a.n(r);n.a},9263:function(t,e,a){"use strict";var r=a("ad6d"),n=a("9f7f"),s=RegExp.prototype.exec,i=String.prototype.replace,c=s,o=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||l;d&&(c=function(t){var e,a,n,c,d=this,p=l&&d.sticky,f=r.call(d),g=d.source,v=0,m=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),m=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,v++),a=new RegExp("^(?:"+g+")",f)),u&&(a=new RegExp("^"+g+"$(?!\\s)",f)),o&&(e=d.lastIndex),n=s.call(p?a:d,m),p?n?(n.input=n.input.slice(v),n[0]=n[0].slice(v),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:o&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&i.call(n[0],a,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),t.exports=c},9910:function(t,e,a){},"99af":function(t,e,a){"use strict";var r=a("23e7"),n=a("d039"),s=a("e8b5"),i=a("861d"),c=a("7b0b"),o=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),f=a("2d00"),g=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",_=f>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=d("concat"),h=function(t){if(!i(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)},C=!_||!y;r({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,r,n,s,i=c(this),d=u(i,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?i:arguments[e],h(s)){if(n=o(s.length),p+n>v)throw TypeError(m);for(a=0;a<n;a++,p++)a in s&&l(d,p,s[a])}else{if(p>=v)throw TypeError(m);l(d,p++,s)}return d.length=p,d}})},"9f7f":function(t,e,a){"use strict";var r=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},bb51:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("StepFollowing"),a("section",{staticClass:"restaurant wrapper pt-5"},[t._m(1),a("hr"),a("FilterAndSearch",{attrs:{"category-id":t.CategoryId,"city-id":t.CityId,categories:t.categories,cities:t.cities},on:{"after-search":t.handleAfterSearch}}),t.isLoading?a("Spinner"):[a("RestaurantCard",{attrs:{restaurants:t.restaurants}})]],2),a("Pagination",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],attrs:{"category-id":t.CategoryId,"city-id":t.CityId,"current-page":t.page,"total-page":t.totalPage,name:"home"}}),a("Footer")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"banner"},[a("div",{staticClass:"banner_wrapper d-flex flex-column justify-content-center align-items-end p-4"},[a("div",{staticClass:"mr-4"},[a("p",{staticClass:"my-3"},[t._v("還在為了美食等待？")]),a("p",{},[t._v("總是有人看著菜單猶豫不決？")]),a("br"),a("h1",{staticClass:"mt-4"},[t._v("立即點餐訂位")]),a("h1",[t._v("STOP WAITING !")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restaurant_title d-flex flex-column align-items-center"},[a("h1",[t._v("想吃什麼？")]),a("h3",[t._v("選出最有興趣的餐廳吧！")])])}],s=(a("ac1f"),a("841c"),a("96cf"),a("1da1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"step"},[a("input",{staticClass:"d-none turn",attrs:{type:"checkbox"},domProps:{checked:t.toggle}}),a("button",{staticClass:"step_toggle d-flex flex-column  align-items-center py-2",on:{click:function(e){t.toggle=!t.toggle}}},[a("p",[t._v("第一次進來，該如何使用？")])]),a("transition",{attrs:{name:"show"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"step_ans d-flex justify-content-around py-2"},[a("div",{staticClass:"step_ans_wrapper"},[a("h3",{staticClass:"title"},[t._v("STEP.1")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v("選擇餐廳")])]),a("div",{staticClass:"step_ans_wrapper"},[a("h3",{staticClass:"title"},[t._v("STEP.2")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v(" 選擇餐點及人數 ")])]),a("div",{staticClass:"step_ans_wrapper"},[a("h3",{staticClass:"title"},[t._v("STEP.3")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v(" 確認訂單，線上付款 ")])]),a("div",{staticClass:"step_ans_wrapper text-center"},[a("h3",{staticClass:"title"},[t._v("STEP.4")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v("準備用餐！")])])])])],1)},c=[],o={data:function(){return{toggle:!1}}},l=o,u=(a("64eb"),a("2877")),d=Object(u["a"])(l,i,c,!1,null,"7817ab93",null),p=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between mt-5"},[a("div",{staticClass:"filter position-relative"},[a("button",{staticClass:"filter_hamburger ml-3 mt-1",on:{click:function(e){t.categoryList=!t.categoryList}}},[a("p",{staticClass:"border"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.categoryList,expression:"categoryList"}],staticClass:"filter_list p-3 mt-1 position-absolute d-flex",on:{mouseleave:function(e){t.categoryList=!1}}},[a("ul",{staticClass:"w-50"},[a("li",{staticClass:"filter_list_item p-1"},[a("router-link",{staticClass:"filter_list_item--link",class:{active:""===t.categoryId},attrs:{to:{name:"home",query:{CityId:t.cityId}}},nativeOn:{click:function(e){t.categoryList=!1}}},[t._v(" 全部類別 ")])],1),t._l(t.categories,(function(e){return a("li",{key:e.id,staticClass:"filter_list_item p-1"},[a("router-link",{staticClass:"filter_list_item--link",class:{active:t.categoryId===e.id},attrs:{to:{name:"home",query:{CityId:t.cityId,CategoryId:e.id}}},nativeOn:{click:function(e){t.categoryList=!1}}},[t._v(t._s(e.name))])],1)}))],2),a("ul",{staticClass:"w-50"},[a("li",{staticClass:"filter_list_item p-1"},[a("router-link",{staticClass:"filter_list_item--link",class:{active:""===t.cityId},attrs:{to:{name:"home",query:{CategoryId:t.categoryId}}},nativeOn:{click:function(e){t.categoryList=!1}}},[t._v(" 全部區域 ")])],1),t._l(t.cities,(function(e){return a("li",{key:e.id,staticClass:"filter_list_item p-1"},[a("router-link",{staticClass:"filter_list_item--link",class:{active:t.cityId===e.id},attrs:{to:{name:"home",query:{CategoryId:t.categoryId,CityId:e.id}}},nativeOn:{click:function(e){t.categoryList=!1}}},[t._v(t._s(e.area))])],1)}))],2)])]),a("form",{staticClass:"search d-flex align-items-center",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search_input",attrs:{type:"text",placeholder:"請輸入餐廳名稱..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{staticClass:"search_btn pl-4",attrs:{type:"submit"}},[a("font-awesome-icon",{attrs:{icon:t.solidIcon.faSearch}})],1)])])},g=[],v=(a("a9e3"),a("5bb2")),m={props:{categoryId:{type:[String,Number]},cityId:{type:[String,Number]},categories:{type:Array},cities:{type:Array}},components:{FontAwesomeIcon:v["a"]},data:function(){return{categoryList:!1,search:"",solidIcon:v["c"]}},methods:{handleSubmit:function(){this.$emit("after-search",{Search:this.search}),this.search=""}}},_=m,y=(a("84b4"),Object(u["a"])(_,f,g,!1,null,"4c39a27a",null)),h=y.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restaurant_card mt-5"},t._l(t.restaurants,(function(e){return a("div",{key:e.id,staticClass:"restaurant_card--item"},[a("router-link",{staticClass:"card",attrs:{to:{name:"restaurant",params:{id:e.id}}}},[a("div",{staticClass:"card_header"},[a("img",{attrs:{src:e.image}})]),a("div",{staticClass:"card_body p-2"},[a("h1",{staticClass:"card_body--title"},[t._v(" "+t._s(e.name)+" ")]),a("p",{staticClass:"my-2"},[t._v("營業時間："+t._s(e.open_time))]),a("p",{staticClass:"my-2"},[t._v("平均價位："+t._s(e.price))]),a("div",{staticClass:"card_body--detail d-flex mt-1"},[a("div",[a("span",{staticClass:"rating mr-2 px-1"},[a("font-awesome-icon",{attrs:{icon:t.solidIcon.faStar}}),t._v(" "+t._s(e.ratingAve)+" ")],1),a("span",{staticClass:"category px-1"},[t._v(" "+t._s(e.Category.name)+" ")])]),a("p",{staticClass:"ml-2"},[a("span",[t._v(t._s(e.City.name))]),t._v(" | "),a("span",[t._v(t._s(e.City.area))])])]),a("hr"),a("p",{staticClass:"card_body--description mt-1"},[t._v(" "+t._s(e.description)+" ")])])])],1)})),0)},x=[],I={props:{restaurants:{type:Array}},components:{FontAwesomeIcon:v["a"]},data:function(){return{solidIcon:v["c"]}}},b=I,w=(a("ecd6"),Object(u["a"])(b,C,x,!1,null,"80d984e0",null)),E=w.exports,P=a("1799"),S=a("fd2d"),k=a("2375"),R=a("77c8"),q=a("2fa3"),O={components:{StepFollowing:p,FilterAndSearch:h,RestaurantCard:E,Pagination:P["a"],Footer:S["a"],Spinner:k["a"]},data:function(){return{restaurants:[],categories:[],cities:[],CategoryId:"",CityId:"",page:-1,totalPage:[],prev:-1,next:-1,isLoading:!0}},methods:{fetchHome:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,i,c,o,l,u,d,p,f,g,v,m,_;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.queryPage,n=t.queryCategoryId,s=t.queryCityId,i=t.querySearch,a.prev=1,a.next=4,R["a"].getHome({page:r,CategoryId:n,CityId:s,search:i});case 4:if(c=a.sent,200===c.status){a.next=7;break}throw new Error;case 7:o=c.data,l=o.restaurants,u=o.categories,d=o.cities,p=o.CityId,f=o.CategoryId,g=o.page,v=o.totalPage,m=o.prev,_=o.next,e.CategoryId=f,e.restaurants=l,e.categories=u,e.cities=d,e.CityId=p,e.page=g,e.totalPage=v,e.prev=m,e.next=_,e.isLoading=!1,a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](1),q["b"].fire({icon:"warning",title:"無法取得資料，請稍後再試"}),e.isLoading=!1;case 24:case"end":return a.stop()}}),a,null,[[1,20]])})))()},handleAfterSearch:function(t){var e=t.Search,a=void 0===e?"":e;this.$router.push({name:"home",query:{search:a}})}},created:function(){var t=this.$route.query,e=t.page,a=void 0===e?"":e,r=t.CategoryId,n=void 0===r?"":r,s=t.CityId,i=void 0===s?"":s,c=t.search,o=void 0===c?"":c;this.fetchHome({queryPage:a,queryCategoryId:n,queryCityId:i,querySearch:o})},beforeRouteUpdate:function(t,e,a){var r=t.query,n=r.page,s=void 0===n?"":n,i=r.CategoryId,c=void 0===i?"":i,o=r.CityId,l=void 0===o?"":o,u=r.search,d=void 0===u?"":u;this.fetchHome({queryPage:s,queryCategoryId:c,queryCityId:l,querySearch:d}),a()}},L=O,N=(a("7cbd"),Object(u["a"])(L,r,n,!1,null,"79486e86",null));e["default"]=N.exports},d784:function(t,e,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),s=a("b622"),i=a("9263"),c=a("9112"),o=s("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,d){var g=s(t),v=!n((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=v&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[g]=/./[g]),a.exec=function(){return e=!0,null},a[g](""),!e}));if(!v||!m||"replace"===t&&(!l||!u||p)||"split"===t&&!f){var _=/./[g],y=a(g,""[t],(function(t,e,a,r,n){return e.exec===i?v&&!n?{done:!0,value:_.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),h=y[0],C=y[1];r(String.prototype,t,h),r(RegExp.prototype,g,2==e?function(t,e){return C.call(t,this,e)}:function(t){return C.call(t,this)})}d&&c(RegExp.prototype[g],"sham",!0)}},e795:function(t,e,a){"use strict";var r=a("57cf"),n=a.n(r);n.a},ecd6:function(t,e,a){"use strict";var r=a("2277"),n=a.n(r);n.a},ef09:function(t,e,a){},fd2d:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer mt-5 d-flex align-items-center"},[a("div",{staticClass:"footer_wrapper d-flex w-75 flex-column"},[a("h1",{staticClass:"footer_wrapper--brand"},[t._v("STOP WAITING")]),a("div",{staticClass:"footer_wrapper--link d-flex flex-column mt-2"},[a("router-link",{staticClass:"link-item",attrs:{to:{name:"signin"}}},[t._v(" 立即註冊 ")]),t._m(0),a("a",{staticClass:"link-item",attrs:{href:"#"}},[t._v("聯絡我們")]),a("router-link",{staticClass:"link-item",attrs:{to:{name:"join-us"}}},[t._v("常見問題")])],1)])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"link-item cursor-pointer",attrs:{href:"#"}},[t._v(" GitHub 連結 "),a("span",{staticClass:"ml-3 d-none"},[a("a",{attrs:{href:"https://github.com/marcho001/reservations-front-end-vue"}},[t._v("前端")]),t._v(" ｜ "),a("a",{attrs:{href:"https://github.com/robert913152750/Restaurant_Reservation_Back_End_NodeJs"}},[t._v("後端")])])])}],s=(a("e795"),a("2877")),i={},c=Object(s["a"])(i,r,n,!1,null,"50f31b2f",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-0dbdc0b6.84d15687.js.map