(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78ff8066"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,a){var r=a("c6b6"),n=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var s=a.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},2277:function(t,e,a){},"2a93":function(t,e,a){},"44cc":function(t,e,a){},"5c8c":function(t,e,a){"use strict";var r=a("2a93"),n=a.n(r);n.a},"64eb":function(t,e,a){"use strict";var r=a("44cc"),n=a.n(r);n.a},"7a7d":function(t,e,a){"use strict";var r=a("fc20"),n=a.n(r);n.a},"841c":function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),s=a("1d80"),i=a("129f"),c=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var s=n(t),o=String(this),l=s.lastIndex;i(l,0)||(s.lastIndex=0);var u=c(s,o);return i(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},9263:function(t,e,a){"use strict";var r=a("ad6d"),n=a("9f7f"),s=RegExp.prototype.exec,i=String.prototype.replace,c=s,o=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=o||u||l;d&&(c=function(t){var e,a,n,c,d=this,p=l&&d.sticky,f=r.call(d),v=d.source,g=0,_=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),_=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(v="(?: "+v+")",_=" "+_,g++),a=new RegExp("^(?:"+v+")",f)),u&&(a=new RegExp("^"+v+"$(?!\\s)",f)),o&&(e=d.lastIndex),n=s.call(p?a:d,_),p?n?(n.input=n.input.slice(g),n[0]=n[0].slice(g),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:o&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&i.call(n[0],a,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(n[c]=void 0)})),n}),t.exports=c},"9f7f":function(t,e,a){"use strict";var r=a("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var r=a("23e7"),n=a("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},bb51:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t._m(0),a("StepFollowing"),a("section",{staticClass:"restaurant wrapper pt-5"},[t._m(1),a("hr"),a("FilterAndSearch",{attrs:{"category-id":t.CategoryId,"city-id":t.CityId,categories:t.categories,cities:t.cities},on:{"after-search":t.handleAfterSearch}}),a("RestaurantCard",{attrs:{restaurants:t.restaurants.rows}})],1),a("Footer")],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"banner"},[a("div",{staticClass:"banner_wrapper d-flex flex-column justify-content-center align-items-end p-4"},[a("div",{staticClass:"mr-4"},[a("p",{staticClass:"my-3"},[t._v("還在為了美食等待？")]),a("p",{},[t._v("總是有人看著菜單猶豫不決？")]),a("br"),a("h1",{staticClass:"mt-4"},[t._v("立即點餐訂位")]),a("h1",[t._v("STOP WAITING !")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restaurant_title d-flex flex-column align-items-center"},[a("h1",[t._v("想吃什麼？")]),a("h3",[t._v("選出最有興趣的餐廳吧！")])])}],s=(a("96cf"),a("1da1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"step"},[a("input",{staticClass:"d-none turn",attrs:{type:"checkbox"},domProps:{checked:t.toggle}}),a("button",{staticClass:"step_toggle d-flex flex-column  align-items-center py-2",on:{click:function(e){t.toggle=!t.toggle}}},[a("p",[t._v("第一次進來，該如何使用？")])]),a("transition",{attrs:{name:"show"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],staticClass:"step_ans d-flex justify-content-around py-2"},[a("div",{staticClass:"step_ans_wrapper"},[a("h3",{staticClass:"title"},[t._v("STEP.1")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v("選擇餐廳")])]),a("div",{staticClass:"step_ans_wrapper"},[a("h3",{staticClass:"title"},[t._v("STEP.2")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v(" 選擇餐點及人數 ")])]),a("div",{staticClass:"step_ans_wrapper"},[a("h3",{staticClass:"title"},[t._v("STEP.3")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v(" 確認訂單，線上付款 ")])]),a("div",{staticClass:"step_ans_wrapper text-center"},[a("h3",{staticClass:"title"},[t._v("STEP.4")]),a("div",{staticClass:"step_ans_wrapper--item p-2 text-center"},[t._v("準備用餐！")])])])])],1)},c=[],o={data:function(){return{toggle:!1}}},l=o,u=(a("64eb"),a("2877")),d=Object(u["a"])(l,i,c,!1,null,"7817ab93",null),p=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between mt-5"},[a("div",{staticClass:"filter position-relative"},[a("button",{staticClass:"filter_hamburger ml-3 mt-1",on:{click:function(e){t.categoryList=!t.categoryList}}},[a("p",{staticClass:"border"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.categoryList,expression:"categoryList"}],staticClass:"filter_list p-3 mt-1 position-absolute d-flex justify-content-around",on:{mouseleave:function(e){t.categoryList=!1}}},[a("ul",[a("li",{staticClass:"filter_list_item p-1"},[a("router-link",{staticClass:"filter_list_item--link",attrs:{to:{name:"home"}},nativeOn:{click:function(e){t.categoryList=!1}}},[t._v(" 全部 ")])],1),t._l(t.categories,(function(e){return a("li",{key:e.id,staticClass:"filter_list_item p-1"},[a("router-link",{staticClass:"filter_list_item--link",class:{active:t.categoryId===e.id},attrs:{to:{name:"home",query:{CategoryId:e.id}}},nativeOn:{click:function(e){t.categoryList=!1}}},[t._v(t._s(e.name))])],1)}))],2),a("ul",t._l(t.cities,(function(e){return a("li",{key:e.id,staticClass:"filter_list_item p-1"},[a("router-link",{staticClass:"filter_list_item--link",class:{active:t.cityId===e.id},attrs:{to:{name:"home",query:{CityId:e.id}}},nativeOn:{click:function(e){t.categoryList=!1}}},[t._v(t._s(e.area))])],1)})),0)])]),a("form",{staticClass:"search d-flex align-items-center",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search_input",attrs:{type:"text",placeholder:"請輸入餐廳名稱..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{staticClass:"search_btn pl-4",attrs:{type:"submit"}},[a("font-awesome-icon",{attrs:{icon:t.solidIcon.faSearch}})],1)])])},v=[],g=(a("a9e3"),a("ac1f"),a("841c"),a("5bb2")),_={props:{categoryId:{type:[String,Number]},cityId:{type:[String,Number]},categories:{type:Array},cities:{type:Array}},components:{FontAwesomeIcon:g["a"]},data:function(){return{categoryList:!1,search:"",solidIcon:g["c"]}},methods:{handleSubmit:function(){this.$emit("after-search",{search:this.search}),this.search=""}}},m=_,y=(a("7a7d"),Object(u["a"])(m,f,v,!1,null,"906d5600",null)),h=y.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"restaurant_card mt-5"},t._l(t.restaurants,(function(e){return a("div",{key:e.id,staticClass:"restaurant_card--item"},[a("router-link",{staticClass:"card",attrs:{to:{name:"restaurant",params:{id:e.id}}}},[a("div",{staticClass:"card_header"},[a("img",{attrs:{src:e.image}})]),a("div",{staticClass:"card_body p-2"},[a("h1",{staticClass:"card_body--title"},[t._v(" "+t._s(e.name)+" ")]),a("p",{staticClass:"my-2"},[t._v("營業時間："+t._s(e.open_time))]),a("p",{staticClass:"my-2"},[t._v("平均價位："+t._s(e.price))]),a("div",{staticClass:"card_body--detail d-flex mt-1"},[a("div",[a("span",{staticClass:"rating mr-2 px-1"},[a("font-awesome-icon",{attrs:{icon:t.solidIcon.faStar}}),t._v(" "+t._s(e.ratingAve)+" ")],1),a("span",{staticClass:"category px-1"},[t._v(" "+t._s(e.Category.name)+" ")])]),a("p",{staticClass:"ml-2"},[a("span",[t._v(t._s(e.City.name))]),t._v(" | "),a("span",[t._v(t._s(e.City.area))])])]),a("hr"),a("p",{staticClass:"card_body--description mt-1"},[t._v(" "+t._s(e.description)+" ")])])])],1)})),0)},C=[],b={props:{restaurants:{type:Array}},components:{FontAwesomeIcon:g["a"]},data:function(){return{solidIcon:g["c"]}}},I=b,w=(a("ecd6"),Object(u["a"])(I,x,C,!1,null,"80d984e0",null)),E=w.exports,S=a("fd2d"),R=a("77c8"),k=a("2fa3"),P={components:{StepFollowing:p,FilterAndSearch:h,RestaurantCard:E,Footer:S["a"]},data:function(){return{restaurants:[],categories:[],cities:[],CategoryId:"",CityId:"",page:-1,totalPage:[],prev:-1,next:-1}},methods:{fetchHome:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,i,c,o,l,u,d,p,f,v,g,_;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.queryPage,n=t.queryCategoryId,s=t.queryCityId,a.prev=1,a.next=4,R["a"].getHome({page:r,CategoryId:n,CityId:s});case 4:if(i=a.sent,200===i.status){a.next=7;break}throw new Error;case 7:c=i.data,o=c.restaurants,l=c.categories,u=c.cities,d=c.CityId,p=c.CategoryId,f=c.page,v=c.totalPage,g=c.prev,_=c.next,e.CategoryId=p,e.restaurants=o,e.categories=l,e.cities=u,e.CityId=d,e.page=f,e.totalPage=v,e.prev=g,e.next=_,a.next=22;break;case 19:a.prev=19,a.t0=a["catch"](1),k["b"].fire({icon:"warning",title:"無法取得資料，請稍後再試"});case 22:case"end":return a.stop()}}),a,null,[[1,19]])})))()},handleAfterSearch:function(t){console.log(t)}},created:function(){var t=this.$route.query,e=t.page,a=void 0===e?"":e,r=t.CategoryId,n=void 0===r?"":r,s=t.CityId,i=void 0===s?"":s;this.fetchHome({queryPage:a,queryCategoryId:n,queryCityId:i})},beforeRouteUpdate:function(t,e,a){var r=t.query,n=r.page,s=void 0===n?"":n,i=r.CategoryId,c=void 0===i?"":i,o=r.CityId,l=void 0===o?"":o;this.fetchHome({queryPage:s,queryCategoryId:c,queryCityId:l}),a()}},A=P,O=(a("5c8c"),Object(u["a"])(A,r,n,!1,null,"2fb3907e",null));e["default"]=O.exports},d784:function(t,e,a){"use strict";a("ac1f");var r=a("6eeb"),n=a("d039"),s=a("b622"),i=a("9263"),c=a("9112"),o=s("species"),l=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=s("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,d){var v=s(t),g=!n((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),_=g&&!n((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[v]=/./[v]),a.exec=function(){return e=!0,null},a[v](""),!e}));if(!g||!_||"replace"===t&&(!l||!u||p)||"split"===t&&!f){var m=/./[v],y=a(v,""[t],(function(t,e,a,r,n){return e.exec===i?g&&!n?{done:!0,value:m.call(e,a,r)}:{done:!0,value:t.call(a,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),h=y[0],x=y[1];r(String.prototype,t,h),r(RegExp.prototype,v,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}d&&c(RegExp.prototype[v],"sham",!0)}},ecd6:function(t,e,a){"use strict";var r=a("2277"),n=a.n(r);n.a},fc20:function(t,e,a){}}]);
//# sourceMappingURL=chunk-78ff8066.e46abfd1.js.map